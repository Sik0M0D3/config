#!/bin/dash
# Read the PLEASE_README file to know what this ↓ line below is for.
[ -r ~/.local/bin/cur_theme ] && . ~/.local/bin/cur_theme || exit

case $BLOCK_BUTTON in
    1) (pidof dunst) > /dev/null && notify-send "󰕾 Volume module
- Left Click to show this message.
- Scroll to change the volume.
- Wheel Click to toggle Mute 󰖁.
- Right Click to open the audio Mixer.
- Left Click + Shift to Edit this Module." ;;
    2) pamixer -t ;;
    3) setsid -f st -e pulsemixer ;;
    4) pamixer -i 1 ;;
    5) pamixer -d 1 ;;
    6) st -e nvim "$0" ;;
esac

[ $(pamixer --get-mute) = true ] && echo '󰖁 mute' && exit
vol="$(pamixer --get-volume)"

if [ "$vol" -eq 100 ]; then
  icon="^c$red^󰕾 "
elif [ "$vol" -gt "74" ]; then
  icon="^c$orange^󰕾 ^d^0^c$orange^"
elif [ "$vol" -gt "60" ]; then
  icon="^c$yellow^󰕾 ^d^0^c$yellow^"
elif [ "$vol" -gt "50" ]; then
  icon="^c$green^󰕾 ^d^0^c$green^"
elif [ "$vol" -ge "10" ]; then
  icon="^c$green^󰖀 ^d^0^c$green^"
elif [ "$vol" -gt "0" ]; then
  icon="^c$green^󰕿 ^d^00^c$green^"
else echo '󰝟 000%' && exit
fi

printf "^c$gray2^$icon$vol^d^%%"
