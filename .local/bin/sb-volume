#!/bin/sh

# Prints the current volume or 婢 if muted.

case $BLOCK_BUTTON in
    1) setsid -f st -e pulsemixer ;;
    2) pamixer -t ;;
    4) pamixer -i 1 ;;
    5) pamixer -d 1 ;;
    3) notify-send " Volume module" "\- Shows volume 墳, 婢 if muted.
- Scroll to change.
- Left click to open Mixer.
- Wheel click to mute.
- Right click display this message." ;;
    6) st -e nvim "$0" ;;
esac

[ $(pamixer --get-mute) = true ] && echo '^d^ 婢 mute' && exit

vol="$(pamixer --get-volume)"

if [ "$vol" -eq 100 ]; then
    icon="^c#EE0000^墳 "
elif [ "$vol" -gt "50" ]; then
    icon="^c#FF8800^墳 0"
elif [ "$vol" -ge "10" ]; then
    icon="^c#00E800^奔 0"
elif [ "$vol" -gt "0" ]; then
    icon="^c#00EE00^奄 00"
else
    echo '^d^ ﱝ 000%' && exit
fi

printf " $icon$vol%%^d^"
